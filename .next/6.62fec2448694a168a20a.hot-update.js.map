{"version":3,"file":"6.62fec2448694a168a20a.hot-update.js","sources":["webpack:///actions/index.js","webpack:///src/components/Nav.js","webpack:///src/components/RegisterForm.js"],"sourcesContent":["import Router from 'next/router'\nimport cookie from 'cookie'\n\nimport {\n  LOGIN_USER,\n  REGISTER_USER,\n  GET_SAVED_LINKS,\n  LOGOUT_USER\n} from '../constants/action-types'\n\nimport apiClient from '../src/api/client.js'\nconst client = new apiClient()\n\nexport const loginUser = (email, password) => {\n  return (dispatch) => {\n    client.login(email, password).then(res => {\n      Router.push('/inbox')\n      if (process.browser) {\n        document.cookie = `zipp-token=${res.data.token}; expires=Fri, 31 Dec 9999 23:59:59 GMT`\n      }\n      dispatch({ type: LOGIN_USER, payload: res.data});\n    }).catch(e => {\n      // dispatch({type: LOGIN_USER_FAILED, paylod: res})\n    })\n  }\n}\n\nexport const validateToken = (token) => {\n  return (dispatch) => {\n    client.validateToken(token).then(res => {\n      Router.push('/inbox')\n      dispatch({type: LOGIN_USER, payload: res.data})\n    }).catch(e => {\n      // not successful\n    })\n  }\n}\n\nexport const registerUser = (email, password) => {\n  return (dispatch) => {\n    client.register(email, password).then(res => {\n      Router.push('/inbox')\n      dispatch({type: REGISTER_USER, payload: res.data})\n    }).catch(e => {\n      // do something\n    })\n  }\n}\n\nexport const logoutUser = (token) => {\n  return (dispatch) => {\n    Router.push('/')\n    if (process.browser) {\n      document.cookie = `zipp-token= ; expires=Fri, 31 Dec 1970 23:59:59 GMT`\n    }\n    dispatch({type: LOGOUT_USER})\n  }\n}\n\nexport const getSavedLinks = (email, token) => {\n  return (dispatch) => {\n    if (email && token) {\n      client.getSavedLinks(email, token).then(res => {\n        dispatch({type: GET_SAVED_LINKS, payload: res.data})\n      }).catch(e => {\n        // do something\n      })\n    } else {\n      if (process.browser) {\n        Router.replace('/login')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// actions/index.js","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { logoutUser } from \"../../actions/index\"\n\nclass Nav extends Component {\n  constructor(props){\n    super(props)\n    this.handleSignOut = this.handleSignOut.bind(this)\n  }\n\n  handleNavChange(event){\n    this.props.handleNavChange(event)\n  }\n\n  handleSignOut (event) {\n    event.preventDefault()\n    this.props.logoutUser()\n  }\n\n  render () {\n    if (this.props.hide) {\n      return null\n    } else {\n      return(\n        <div className=\"navbar navbar-expand-lg fixed-top p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\" role=\"navbar\">\n          <a id=\"brand\" className=\"navbar-brand\">Zipp</a>\n            <div className=\"navbar-nav mr-auto\">\n                <a id=\"inbox\" href =\"/inbox\" className=\"nav-item nav-link\">Inbox</a>\n                <a id=\"bookmarks\" href=\"/bookmarks\" onClick={this.props.handleNavChange} className=\"nav-item nav-link\">Bookmarks</a>\n            </div>\n            <div className=\"navbar-nav\">\n                <button className=\"btn btn-sm btn-outline-primary\" type=\"button\"  data-toggle=\"modal\" data-target=\"#linkInputModal\">Save</button>\n                <a id=\"profile\" href=\"/profile\" className=\"nav-item nav-link mr-auto\" onClick={this.props.handleNavChange}>{this.props.currentUser}</a>\n                <a id=\"signOut\" href=\"\" onClick={this.handleSignOut} className=\"nav-item nav-link mr-auto\">sign out</a>\n            </div>\n        </div>\n      )\n    }\n  }\n}\n\nconst  mapDispatchToProps = dispatch => {\n  return {\n    logoutUser: () => dispatch(logoutUser())\n  };\n}\nconst ConnectedNav = connect(null, mapDispatchToProps)(Nav);\nexport default ConnectedNav;\n\n\n\n// WEBPACK FOOTER //\n// src/components/Nav.js","import React, { Component } from 'react';\nimport {connect} from 'react-redux'\nimport Router from 'next/router'\nimport {registerUser} from \"../../actions/index\";\nimport ApiClient from '../api/client.js'\nimport validators from '../utils/validators'\n\nclass RegisterForm extends Component {\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      emailInput: '',\n      passwordInput: '',\n      confirmPasswordInput: '',\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange (event) {\n    const name = event.target.name\n    const value = event.target.value\n    this.setState({[name]:value})\n  }\n\n  handleSubmit (event) {\n    event.preventDefault()\n\n    // validate email and password\n    if (validators.validateEmail(this.state.emailInput)) {\n      if (validators.validatePassword(this.state.passwordInput)) {\n        if (this.state.passwordInput === this.state.confirmPasswordInput) {\n          this.props.registerUser(this.state.emailInput, this.state.passwordInput, this.state.confirmPasswordInput)\n        } else {\n          // dispatch password mismatch error\n        }\n      } else {\n        // dispatch invalid password error\n      }\n    } else {\n      // dispatch invalid email error\n    }\n  }\n\n  render () {\n    return(\n      <div className=\"container-fluid\">\n        <div className=\"row justify-content-md-center pt-5\">\n          <div className=\"\">\n            <h3 className=\"text-center\">Register</h3>\n            <form  className=\"form-group\" onSubmit={this.handleSubmit}>\n              <div className=\"m-1\">\n                <input className=\"form-control\" type=\"text\" name= \"emailInput\" value={this.state.emailInput} onChange={this.handleChange} className=\"form-control my-1\" placeholder=\"john@example.com\"/>\n              </div>\n              <div className=\"m-1\">\n                <input className=\"form-control\" type=\"password\" name=\"passwordInput\" value={this.state.passwordInput} onChange={this.handleChange} className=\"form-control\" placeholder=\"password\"/>\n              </div>\n              <div className=\"m-1\">\n                <input className=\"form-control\" type=\"password\" name=\"confirmPasswordInput\" value={this.state.confirmPasswordInput} onChange={this.handleChange} className=\"form-control\" placeholder=\"password\"/>\n              </div>\n              <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block my-1\"/>\n            </form>\n            already have an account? <a href=\"/login\">log in</a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst  mapDispatchToProps = dispatch => {\n  return {\n    registerUser: (email, password, confirmPassword) => dispatch(registerUser(email, password, confirmPassword))\n  };\n}\nconst Register = connect(null, mapDispatchToProps)(RegisterForm);\n\nexport default Register\n\n\n\n// WEBPACK FOOTER //\n// src/components/RegisterForm.js"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;;;;AAlCA;AACA;AAoCA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AAVA;AAWA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA9DA;AACA;AAgEA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AAEA;;;;A","sourceRoot":""}