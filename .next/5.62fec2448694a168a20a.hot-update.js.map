{"version":3,"file":"5.62fec2448694a168a20a.hot-update.js","sources":["webpack:///actions/index.js","webpack:///src/components/LinkList.js","webpack:///src/components/Nav.js"],"sourcesContent":["import Router from 'next/router'\nimport cookie from 'cookie'\n\nimport {\n  LOGIN_USER,\n  REGISTER_USER,\n  GET_SAVED_LINKS,\n  LOGOUT_USER\n} from '../constants/action-types'\n\nimport apiClient from '../src/api/client.js'\nconst client = new apiClient()\n\nexport const loginUser = (email, password) => {\n  return (dispatch) => {\n    client.login(email, password).then(res => {\n      Router.push('/inbox')\n      if (process.browser) {\n        document.cookie = `zipp-token=${res.data.token}; expires=Fri, 31 Dec 9999 23:59:59 GMT`\n      }\n      dispatch({ type: LOGIN_USER, payload: res.data});\n    }).catch(e => {\n      // dispatch({type: LOGIN_USER_FAILED, paylod: res})\n    })\n  }\n}\n\nexport const validateToken = (token) => {\n  return (dispatch) => {\n    client.validateToken(token).then(res => {\n      Router.push('/inbox')\n      dispatch({type: LOGIN_USER, payload: res.data})\n    }).catch(e => {\n      // not successful\n    })\n  }\n}\n\nexport const registerUser = (email, password) => {\n  return (dispatch) => {\n    client.register(email, password).then(res => {\n      Router.push('/inbox')\n      dispatch({type: REGISTER_USER, payload: res.data})\n    }).catch(e => {\n      // do something\n    })\n  }\n}\n\nexport const logoutUser = (token) => {\n  return (dispatch) => {\n    Router.push('/')\n    if (process.browser) {\n      document.cookie = `zipp-token= ; expires=Fri, 31 Dec 1970 23:59:59 GMT`\n    }\n    dispatch({type: LOGOUT_USER})\n  }\n}\n\nexport const getSavedLinks = (email, token) => {\n  return (dispatch) => {\n    if (email && token) {\n      client.getSavedLinks(email, token).then(res => {\n        dispatch({type: GET_SAVED_LINKS, payload: res.data})\n      }).catch(e => {\n        // do something\n      })\n    } else {\n      if (process.browser) {\n        Router.replace('/login')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// actions/index.js","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport Router from 'next/router'\nimport apiClient from '../api/client';\nimport LinkItem from './LinkItem';\nimport { getSavedLinks } from \"../../actions/index\";\n\nclass LinkList extends Component {\n  constructor(props){\n    super(props);\n    this.dismissLinkItem = this.dismissLinkItem.bind(this)\n    this.bookmarkLinkItem = this.bookmarkLinkItem.bind(this)\n  }\n\n  componentWillMount () {\n    // console.log(this.props.user.token)\n    this.props.getSavedLinks(this.props.user.email, this.props.user.token)\n  }\n\n  componentDidMount () {\n    // const currentUser = this.state.currentUser\n    // const token = this.state.currentUserToken\n    // const queryPath = apiBase+'user/'+currentUser+'/saved'\n    // var resp = apiClient.apiRequest(queryPath, {headers:{'Authorization':token}})\n    // if (resp){\n    //   resp.then((r)=>{\n    //     this.setState({\n    //           inboxIsLoaded: true,\n    //           inboxItems:r,\n    //         })\n    //   })\n    // }\n  }\n\n  dismissLinkItem (linkId) {\n    // this.props.dismissLinkItem(linkId)\n  }\n\n  bookmarkLinkItem (linkId) {\n    // this.props.bookmarkLinkItem(linkId)\n  }\n\n  render () {\n    const error = this.props.inboxError;\n    const isLoaded = this.props.inboxIsLoaded\n    const items = this.props.savedLinks\n\n    if (error){\n      return <div>Error: {error.message}</div>\n    } else if (!isLoaded) {\n      return <div className=\"spinner\">\n              <div className=\"bounce1\"></div>\n              <div className=\"bounce2\"></div>\n              <div className=\"bounce3\"></div>\n            </div>\n    } else {\n      return  (\n        <div className=\"row justify-content-md-center\">\n          <div className=\"col-md-6\">\n            {items.map(item => (\n              <LinkItem  item={item} dismissLinkItem={this.dismissLinkItem} bookmarkLinkItem={this.bookmarkLinkItem} key={item.id.toString()} token={this.props.currentUserToken} currentUser={this.props.currentUser}/>\n            ))}\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state /*, ownProps*/) => {\n  return {\n    user: state.user,\n    savedLinks: state.savedLinks\n  }\n}\n\nconst  mapDispatchToProps = dispatch => {\n  return {\n    getSavedLinks: (email, token) => dispatch(getSavedLinks(email, token))\n  };\n}\nconst Inbox = connect(mapStateToProps, mapDispatchToProps)(LinkList);\n\nexport default Inbox;\n\n\n\n// WEBPACK FOOTER //\n// src/components/LinkList.js","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { logoutUser } from \"../../actions/index\"\n\nclass Nav extends Component {\n  constructor(props){\n    super(props)\n    this.handleSignOut = this.handleSignOut.bind(this)\n  }\n\n  handleNavChange(event){\n    this.props.handleNavChange(event)\n  }\n\n  handleSignOut (event) {\n    event.preventDefault()\n    this.props.logoutUser()\n  }\n\n  render () {\n    if (this.props.hide) {\n      return null\n    } else {\n      return(\n        <div className=\"navbar navbar-expand-lg fixed-top p-3 px-md-4 mb-3 bg-white border-bottom box-shadow\" role=\"navbar\">\n          <a id=\"brand\" className=\"navbar-brand\">Zipp</a>\n            <div className=\"navbar-nav mr-auto\">\n                <a id=\"inbox\" href =\"/inbox\" className=\"nav-item nav-link\">Inbox</a>\n                <a id=\"bookmarks\" href=\"/bookmarks\" onClick={this.props.handleNavChange} className=\"nav-item nav-link\">Bookmarks</a>\n            </div>\n            <div className=\"navbar-nav\">\n                <button className=\"btn btn-sm btn-outline-primary\" type=\"button\"  data-toggle=\"modal\" data-target=\"#linkInputModal\">Save</button>\n                <a id=\"profile\" href=\"/profile\" className=\"nav-item nav-link mr-auto\" onClick={this.props.handleNavChange}>{this.props.currentUser}</a>\n                <a id=\"signOut\" href=\"\" onClick={this.handleSignOut} className=\"nav-item nav-link mr-auto\">sign out</a>\n            </div>\n        </div>\n      )\n    }\n  }\n}\n\nconst  mapDispatchToProps = dispatch => {\n  return {\n    logoutUser: () => dispatch(logoutUser())\n  };\n}\nconst ConnectedNav = connect(null, mapDispatchToProps)(Nav);\nexport default ConnectedNav;\n\n\n\n// WEBPACK FOOTER //\n// src/components/Nav.js"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAEA;;;AAEA;AAEA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AACA;;;;AA3DA;AACA;AA6DA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;;;;AAlCA;AACA;AAoCA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAAA;AACA;;;;A","sourceRoot":""}