{"version":3,"file":"4.4366f1801b453f21216f.hot-update.js","sources":["webpack:///actions/index.js","webpack:///./node_modules/next/router.js"],"sourcesContent":["import Router from 'next/router'\nimport cookie from 'cookie'\n\nimport {\n  LOGIN_USER,\n  REGISTER_USER,\n  GET_SAVED_LINKS,\n  LOGOUT_USER\n} from '../constants/action-types'\n\nimport apiClient from '../src/api/client.js'\nconst client = new apiClient()\n\nexport const loginUser = (email, password) => {\n  return (dispatch) => {\n    client.login(email, password).then(res => {\n      Router.push('/inbox')\n      if (process.browser) {\n        document.cookie = `zipp-token=${res.data.token}; expires=Fri, 31 Dec 9999 23:59:59 GMT`\n      }\n      dispatch({ type: LOGIN_USER, payload: res.data});\n    }).catch(e => {\n      // dispatch({type: LOGIN_USER_FAILED, paylod: res})\n    })\n  }\n}\n\nexport const validateToken = (token) => {\n  return (dispatch) => {\n    client.validateToken(token).then(res => {\n      Router.push('/inbox')\n      dispatch({type: LOGIN_USER, payload: res.data})\n    }).catch(e => {\n      // not successful\n    })\n  }\n}\n\nexport const registerUser = (email, password) => {\n  return (dispatch) => {\n    client.register(email, password).then(res => {\n      Router.push('/inbox')\n      dispatch({type: REGISTER_USER, payload: res.data})\n    }).catch(e => {\n      // do something\n    })\n  }\n}\n\nexport const logoutUser = (token) => {\n  return (dispatch) => {\n    Router.push('/')\n    if (process.browser) {\n      document.cookie = `zipp-token= ; expires=Fri, 31 Dec 1970 23:59:59 GMT`\n    }\n    dispatch({type: LOGOUT_USER})\n  }\n}\n\nexport const getSavedLinks = (email, token) => {\n  return (dispatch) => {\n    if (email && token) {\n      client.getSavedLinks(email, token).then(res => {\n        dispatch({type: GET_SAVED_LINKS, payload: res.data})\n      }).catch(e => {\n        // do something\n      })\n    } else {\n      if (process.browser) {\n        Router.replace('/login')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// actions/index.js","module.exports = require('./dist/lib/router')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/next/router.js\n// module id = ./node_modules/next/router.js\n// module chunks = 4 5"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzEA;;;;;A","sourceRoot":""}